"use strict";$(function(){sampleRoot.materialize.init(),sampleRoot.message.init(),sampleRoot.radio.init(),sampleRoot.dialog.modal.init()}),sampleRoot.const={key:{TAB_KEY:9},class:{VALID:"valid",INVALID:"invalid",MODAL:"modal",MODAL_TRIGGER:"modal-trigger",MODAL_CLOSE:"modal-close",SIDE_AREA:"sideArea",TABLE_OF_CONTENTS:"table-of-contents",DATE_PICKER:"datepicker"},attribute:{ATT_DATA_TARGET:"data-target",ATT_DATA_ERR:"data-error",ATT_DATA_LENGTH:"data-length"},idSuffix:{JSF_ERR_MSG_ID_SUFFIX:"ErrMsg",HELPER_TEXT_ID_SUFFIX:"HelperText",INITIAL_VALUE_ID_SUFFIX:"InitialValue",UPLOAD_FILE_ID_SUFFIX:"_file",UPLOAD_FILE_NAME_ID_SUFFIX:"_name",MODAL_HEADER_MESSAGE_ID_SUFFIX:"_headerMessage",MODAL_MESSAGE_ID_SUFFIX:"_message",SEARCH_RESULT_COUNT_ID_SUFFIX:"_searchResultCount"}},sampleRoot.message=function(){function a(t){var o,a;t&&$("#".concat(t))[0]&&$("#".concat(t).concat(n))[0]&&(o=$("#".concat(t).concat(n)).text(),a=$("#".concat(t)),o?(a.removeClass(e).addClass(c),$("#".concat(t).concat(s)).attr(i,o)):(a.val()?a.removeClass(c).addClass(e):a.removeClass("".concat(c," ").concat(e)),$("#".concat(t).concat(s)).removeAttr(i)))}var e=sampleRoot.const.class.VALID,c=sampleRoot.const.class.INVALID,n=sampleRoot.const.idSuffix.JSF_ERR_MSG_ID_SUFFIX,s=sampleRoot.const.idSuffix.HELPER_TEXT_ID_SUFFIX,i=sampleRoot.const.attribute.ATT_DATA_ERR;return{init:function(){$("span[id$=".concat(n,"]")).each(function(t,o){return a(o.id.replace(n,""))})},showErrMsg:a}}(),sampleRoot.scroll=function(){function t(t){$("html,body").animate({scrollTop:t})}return{top:function(){return t(0)},bottom:function(){return t($(document).height()-$(window).height())}}}(),sampleRoot.radio=function(){var e=sampleRoot.const.idSuffix.INITIAL_VALUE_ID_SUFFIX;return{init:function(){$('input[type="radio"][id$="radio"]').each(function(t,o){var a=$(o).prop("name")+e;$(o).val()===$("#".concat(a)).text()&&$(o).prop("checked",!0)})}}}(),sampleRoot.fileUpload=function(){var o=sampleRoot.const.idSuffix.UPLOAD_FILE_ID_SUFFIX,a=sampleRoot.const.idSuffix.UPLOAD_FILE_NAME_ID_SUFFIX;return{clear:function(t){$("#".concat(t).concat(o)).val(""),$("#".concat(t).concat(a)).val("").removeClass("valid invalid")}}}(),sampleRoot.dialog=function(){function n(t){$("#".concat(o).concat(a)).text("エラー"),$("#".concat(o).concat(e)).text(t),sampleRoot.dialog.modal.open(o)}var s=sampleRoot.const.class.VALID,i=sampleRoot.const.class.INVALID,o="genericDialog",a=sampleRoot.const.idSuffix.MODAL_HEADER_MESSAGE_ID_SUFFIX,e=sampleRoot.const.idSuffix.MODAL_MESSAGE_ID_SUFFIX;return{focusOnDialog:function(o){var a,e,c,n=sampleRoot.const.key.TAB_KEY;$("#".concat(o)).focus(),$(document).off("keydown.focusOnDialog"),$(document).on("keydown.focusOnDialog",{dialogId:o},function(t){t.keyCode===n&&(a=$("#".concat(o)).find("a[href], area[href], input, select, textarea, button, iframe, object, embed, *[tabindex], *[contenteditable]").not("[tabindex=-1], [disabled], :hidden"),(e=a.index(t.target))<0?(c=t.shiftKey?a.last():a.first(),setTimeout(function(){return c.focus()},0)):0===e&&t.shiftKey?(a.last().focus(),t.preventDefault()):e!==a.length-1||t.shiftKey||(a.first().focus(),t.preventDefault()))})},showErrDialog:n,isExistShowErrDialog:function(t,o,a){var e,c;"success"===t.status&&o&&$("#".concat(o))&&$("#".concat(o)).text()&&(e=$("#".concat(o)).text(),a&&(c=$("#".concat(a)),e?c.removeClass(s).addClass(i):c.val()?c.removeClass(i).addClass(s):c.removeClass("".concat(i," ").concat(s))),n(e))}}}(),sampleRoot.dialog.modal=function(){function c(t){M.Modal.init(t,{dismissible:!1})}function n(t){$("#".concat(t)).modal("open"),sampleRoot.dialog.focusOnDialog(t)}var t=sampleRoot.const.class.MODAL,o=sampleRoot.const.class.MODAL_TRIGGER,a=sampleRoot.const.class.MODAL_CLOSE,s=sampleRoot.const.attribute.ATT_DATA_TARGET,i=sampleRoot.const.idSuffix.SEARCH_RESULT_COUNT_ID_SUFFIX;return{init:function(){document.querySelectorAll(".".concat(t)).forEach(c),$(document).off("click.modalTrigger"),$(document).on("click.modalTrigger",".".concat(o),function(t){var o,a=t.currentTarget;"A"===a.tagName?(o=$(a).attr("href").replace("#",""),sampleRoot.dialog.focusOnDialog(o)):"BUTTON"===a.tagName&&(o=$(a).attr(s),sampleRoot.dialog.focusOnDialog(o))}),$(document).off("click.modalClose"),$(document).on("click.modalClose",".".concat(a),function(){return $(document).off("keydown.focusOnDialog")})},initBy:c,open:n,openSearchResult:function(t){var o,a,e;"success"===t.status&&(a=$("#".concat(t.source.id)).attr(s),"0"===(e=$("#".concat(a).concat(i)).text())?sampleRoot.dialog.showErrDialog("該当のコードは存在しません"):1<Number(e)&&(o=$("#".concat(a)),c(o),n(a)))}}}(),sampleRoot.materialize=function(){var o=sampleRoot.const.class.SIDE_AREA,a=sampleRoot.const.class.TABLE_OF_CONTENTS,e=sampleRoot.const.class.DATE_PICKER,c=sampleRoot.const.attribute.ATT_DATA_LENGTH;return{init:function(){var t;M.AutoInit(),$("input[".concat(c,"], textarea[").concat(c,"]")).characterCounter(),$(".".concat(o)).length&&(t=($("form > footer").first().length?$("form > footer").first().offset().top:0)-($(".".concat(o," .").concat(a)).length?$(".".concat(o," .").concat(a)).height():0),$("nav").length?$(".".concat(o)).pushpin({top:$(".".concat(o)).offset().top,bottom:t}):$(".".concat(o)).pushpin({top:0,bottom:t})),sampleRoot.dialog.modal.init(),document.querySelectorAll(".".concat(e)).forEach(function(t){M.Datepicker.init(t,{autoClose:!0,format:"yyyy-mm-dd"})})},dynamicInit:function(){$("textarea").each(function(t,o){M.textareaAutoResize($(o))}),$("select").formSelect(),M.updateTextFields()}}}();